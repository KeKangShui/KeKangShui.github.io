<header>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/element-ui@2.15.3/lib/theme-chalk/index.css" />
    <title>HongKongDoll 专题</title>
</header>
<div id="app">
    <div id="dplayer" style="width:100%; height:30%"></div>
    <h2> {{title}}</h2>
    <el-table :data="tableData" style="width: 100%">
        <el-table-column prop="title" label="标题" width="300">
        </el-table-column>
        <el-table-column  v-if="false" prop="url" label="地址"  width="20">
        </el-table-column>
        <el-table-column fixed="right" label="操作" width="auto">
            <template slot-scope="scope">
                <el-button @click="open(scope.row)" type="text" size="small">播放</el-button>
            </template>
        </el-table-column>
    </el-table>
</div>
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<script src="https://unpkg.com/element-ui@2.15.3/lib/index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.0.7/dist/hls.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/dplayer@1.26.0/dist/DPlayer.min.js"></script>
<script>

    class movie {
        constructor(title, url) {
            this.title = title;
            this.url = url;
        }
    }
    var dic = {
        "一日女友的漂亮姐姐": 'https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll80/HongKongDoll80.m3u8',
        "一日女友的漂亮姐姐 中篇——上部": 'https://cdn.jsdelivr.net/gh/KeKangShui/move/hongkongdoll1/hongkongdoll1.m3u8',
        "一日女友的漂亮姐姐 中篇——下部": 'https://cdn.jsdelivr.net/gh/KeKangShui/move/hongkongdoll2/hongkongdoll2.m3u8',
        "一日女友的漂亮姐姐 终章": 'https://cdn.jsdelivr.net/gh/KeKangShui/move/20210625/20210625-1/20210625-1.m3u8',
        "穹妹": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/gongmei/m.m3u8",
        "甜美游戏陪玩": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/sweet1/playGame.m3u8",
        "甜美游戏陪玩2": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/sweet2/playGame.m3u8",
        "甜美游戏陪玩3": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/sweet3/playGame.m3u8",
        "甜美游戏终章": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/sweet4/playGame.m3u8",
        "蛇喰梦子": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/mengzi/m.m3u8",
        "青蛇": "https://cdn.jsdelivr.net/gh/KeKangShui/move/HongKongDoll/greenshe/snake.m3u8",
        "精油按摩": "https://cdn.jsdelivr.net/gh/niucnet/move/20210625/20210625-2/20210625-2.m3u8",
        "姐姐的梦境 番外篇": "https://cdn.jsdelivr.net/gh/niucnet/move/20210617-5/20210617-5.m3u8",
    }

    function dicExe(dic) {
        var list = [];
        for (var key in dic) {
            var item = dic[key];
            list.push(new movie(key, item))
        }
        return list;
    }

    var list = dicExe(dic);
    var t = '标题';
    var vm = new Vue({
        el: "#app",
        data: {
            tableData: list,
            title: t,
        },
        methods: {
            open: function (index) {
                this.title = index.title;
                console.log(this.title)
                const dp = new DPlayer({
                    container: document.getElementById('dplayer'),
                    autoplay: true,
                    theme: '#FADFA3',
                    loop: true,
                    lang: 'zh-cn',
                    screenshot: true,
                    hotkey: true,
                    preload: 'auto',
                    volume: 0.7,
                    mutex: true,
                    video: {
                        url: index.url,
                        type: 'hls',
                        defaultQuality: 0,
                        thumbnails: 'thumbnails.jpg',
                    }
                });

            }
        }
    })
</script>
